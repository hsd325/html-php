<!-- 用js抓取【.json】檔案的資料(這裡抓文字) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>open data練習</title>
    <link rel="shortcut icon" href="images/icon/icon.ico" type="images/x-icon"><!-- icon更換 -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/myall.css">
</head>
<body>
    <div id="mydata">
        <h1>店名: XXXXXXXX</h1>
    </div>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script>
        // jquery的主程式
        $(function(){
            //console.log("hello world!");
            // console.log : 只會顯示在網頁F12的Console，通常是拿來偵錯的
            // for(var i=0; i<9; i++){
            //     console.log("hello world!"+i);
            // }

            // 串接opendata
            // ajax 非同步
            $.ajax({
                type: "GET",
                // GET : 抓資料的意思
                url: "https://data.moa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx?IsTransData=1&UnitId=193",
                // url : 網址，配合GET，就是抓這個網址裡面的資料
                success: showdata,
                // success : showdata : 抓資料成功的話，會將資料傳到showdata函式
                error: function(){
                    alert("系統錯誤!")
                    // alert : 跳出警告視窗
                }
                // error 資料抓失敗
            });
        });

        function showdata(data){
            // data代表上面ajex傳下來的資料，data可改名，改成你想要的
            console.log(data);
            // 在console顯示data，也就是網址抓下的資料，顯示出來
            for(var i=0;i<3;i++){
                console.log(data[i]);
            }
            // 顯示3筆資料
            for(var i=0;i<3;i++){
                console.log(data[i].Name);
                $("#mydata").append(data[i].Name+"  ");
            }
            // 顯示陣列的某一個東西
        }
    </script>
</body>
</html>